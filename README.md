awin(activae window)
==========

# Quickey のモノマネ・ツール
Linux上で、予め検索条件を指定しておき、実行時に検索にHitしたウィンドウを、キーボードショートカット一発でアクティブ化する為の[Quickey](https://github.com/m-yamashita/quickey.py) を真似てC言語で作ったツールです。
Quickey 同様、アクティブ化する対象となるウィンドウが起動していない場合は、指定したコマンドを実行(例えばそのウィンドウを新たに起動したりも)できます。Quickey を置き換える積りはないので、全ての機能を持っているわけではありません。

キーのバインド、及び対象ウィンドウ、コマンドの設定は、ウィンドウ・マネージャー周りの機能を利用してください。
lxde を使っている場合、「~/.config/openbox/lxde-rc.xml」に登録する、KDEならカスタムショートカットに登録するなどです。
Autokey や xbindkeys を利用しても良いのかも知れませんが私は使った事がありません。


# Install

## 事前準備

このツールはC言語のソース形式で公開しており、CMake というツールを使って Makefile を作成し、make し インストールする必要があります。次は debian での例を示します。ディストリビューションに合わせて適宜対応をおねがいします。C言語の開発が出来る状態にない場合、ディストリビューションに合わせて事前に導入しておいてください。「Makefile 位自分で書く」という方は CMake は不要です。

### CMake
      sudo apt-get install cmake


### libx11-dev
      sudo apt-get install libx11-dev


## 本体のインストール

### Makefile 生成

build サブ・ディレクトリに移動して、「cmake ../」を実行
 (build サブ・ディレクトリがなければ、「mkdir build」を実行して作成する)

### make

build サブ・ディレクトリで、「make」を実行


### インストール

build サブ・ディレクトリで、「sudo make install」を実行
(または「sudo make install/strip」) 



# 使い方

## コマンドラインでオプションの設定等を確定させます
以下では、leafpad というテキストエディタを例にして説明します。

1. leafpad を何らかの方法で起動しておきます。混乱を防ぐために、慣れるまでは他のウィンドウは閉じておくのが良いでしょう。

2. 「awin -l」を実行します。
    （マークダウンの知識が乏しく上手く表記できないので、空白はアンダースコアで表現します。）

      `[#] pid___machine__class____________title`<br>
      `-----------------------------------------`<br>
      `[1]__4557_my-pc____Plasma.Plasma____plasma-desktop`<br>
      `[2]_30863_my-pc____leafpad.Leafpad__hoge.txt`<br>

3. 表示された内容を元に、該当するウィンドウを特定する検索条件を検討します。
   テキストディタなので、ウィンドウタイトルは編集中のファイルによって変わってしまいます(上の例では「hogehoge.txt」)。そのため、検索対象としてはふさわしくありません。なので、「class」の部分で検索する事にします。

4. 検討した検索条件を試してみます。
    1. 「awin -w -L leafpad.Leafpad -a」を実行
    2. コマンドラインのウィンドウからフォーカスが外れ、leafpad エディタが最前面に表示されフォーカスを持っていれば成功です。

5. 上手くアクティベートされたら、もし起動していなかった場合に起動するように設定してみます。
    1. フルパスを確認「which leafpad」-> 「/usr/bin/leafpad」
    2. leafpad ウィンドウを終了させる
    3. 試してみる。「awin -w -L leafpad.Leafpad -a -c /usr/bin/leafpad」を実行

6. 問題ないようであれば、オプション確定

より詳しい使い方は、「man 1 awin」 を実行してみたり、「README-JP-UTF8.txt 」を参照してください。

## ショートカット等に登録します。
オプションが確定したら、実際に使うためにショートカット等に登録します。
lxde を使っている場合、「~/.config/openbox/lxde-rc.xml」に登録する、KDE ならカスタムショートカットに登録する、などです。
あるいは、何らかのランチャー・ソフトに登録しても良いでしょう。ランチャー・ソフトがウィンドウ切り替え機能も持ったかのように動作します。


# 最後に

バグ、要望、その他ご意見等御座いましたら下記よりお問い合わせください。

- Blog: http://unixer.xyz/
